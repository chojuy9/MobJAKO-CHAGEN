<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëª¨ë¸Œ ìºë¦­í„° ìƒì„±ê¸°</title>
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Gaegu:wght@300;400;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        /* ==================== ê¸°ë³¸ ìŠ¤íƒ€ì¼ ë³€ìˆ˜ ì •ì˜ ==================== */
        /* ì—¬ê¸°ì—ì„œ ìƒ‰ìƒì´ë‚˜ í¬ê¸° ë“±ì˜ ê¸°ë³¸ ë³€ìˆ˜ë¥¼ ìˆ˜ì •í•˜ë©´ ì „ì²´ ì‚¬ì´íŠ¸ì— ì ìš©ë©ë‹ˆë‹¤ */
        :root {
            --primary-color: #ad6fff;    /* ì£¼ ìƒ‰ìƒ - ê·€ì—¬ìš´ ë³´ë¼ìƒ‰ */
            --primary-light: #d7b6ff;    /* ë§¤ìš° ì—°í•œ ë³´ë¼ìƒ‰ */
            --primary-dark: #8347c1;     /* ì§„í•œ ë³´ë¼ìƒ‰ */
            --secondary-color: #ff6fd7;  /* ë³´ì¡° ìƒ‰ìƒ - í•‘í¬ìƒ‰ */
            --accent-color: #6fddff;     /* í¬ì¸íŠ¸ ìƒ‰ìƒ - í•˜ëŠ˜ìƒ‰ */
            --text-color: #6e5d79;       /* ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ - ë¶€ë“œëŸ¬ìš´ í¼í”Œ */
            --text-light: #9c8aa8;       /* ë°ì€ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            --background: #f8f2ff;       /* ë°°ê²½ ìƒ‰ìƒ - ë§¤ìš° ì—°í•œ ë³´ë¼ìƒ‰ */
            --card-background: #ffffff;  /* ì¹´ë“œ ë°°ê²½ ìƒ‰ìƒ */
            --border-radius: 20px;       /* ëª¨ì„œë¦¬ ë‘¥ê¸€ê¸° - ë” ë‘¥ê¸€ê²Œ */
            --shadow: 0 6px 16px rgba(173, 111, 255, 0.15);  /* ê·¸ë¦¼ì íš¨ê³¼ - ë³´ë¼ìƒ‰ ì¡°ëª… */
            --transition: all 0.3s ease; /* ì• ë‹ˆë©”ì´ì…˜ ì†ë„ */
            --header-height: 70px;       /* í—¤ë” ë†’ì´ */
        }
        
        /* ==================== ê¸°ë³¸ ë¦¬ì…‹ ë° ê¸€ê¼´ ì„¤ì • ==================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Gaegu', 'Noto Sans KR', sans-serif;
            max-width: 850px;
            margin: 0 auto;
            padding: 30px 20px;
            background-color: var(--background);
            color: var(--text-color);
            line-height: 1.6;
            /* ìƒë‹¨ ë©”ë‰´ë°” ë†’ì´ë§Œí¼ íŒ¨ë”© ì¶”ê°€ */
            padding-top: calc(var(--header-height) + 30px);
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ad6fff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        
        /* ==================== ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ ìŠ¤íƒ€ì¼ ==================== */
        /* ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ ì»¨í…Œì´ë„ˆ */
        .nav-container {
            position: fixed;          /* ìŠ¤í¬ë¡¤í•´ë„ ìƒë‹¨ì— ê³ ì • */
            top: 0;                   /* í™”ë©´ ìµœìƒë‹¨ì— ë°°ì¹˜ */
            left: 0;                  /* í™”ë©´ ì™¼ìª½ì— ë°°ì¹˜ */
            width: 100%;              /* ì „ì²´ ë„ˆë¹„ ì‚¬ìš© */
            height: var(--header-height); /* ë†’ì´ ì„¤ì • */
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); /* ê·¸ë¼ë°ì´ì…˜ ë°°ê²½ */
            box-shadow: 0 3px 12px rgba(173, 111, 255, 0.2); /* ë³´ë¼ìƒ‰ ê·¸ë¦¼ì íš¨ê³¼ */
            z-index: 1000;            /* ë‹¤ë¥¸ ìš”ì†Œë³´ë‹¤ ìœ„ì— í‘œì‹œ */
            display: flex;            /* í”Œë ‰ìŠ¤ ë ˆì´ì•„ì›ƒ ì‚¬ìš© */
            align-items: center;      /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
            justify-content: center;  /* ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ */
            padding: 0 20px;          /* ì¢Œìš° íŒ¨ë”© */
        }
        
        /* ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ ë‚´ë¶€ ì»¨í…Œì´ë„ˆ (ìµœëŒ€ ë„ˆë¹„ ì œí•œ) */
        .nav-inner {
            width: 100%;              /* ì „ì²´ ë„ˆë¹„ ì‚¬ìš© */
            max-width: 1200px;        /* ìµœëŒ€ ë„ˆë¹„ ì œí•œ */
            display: flex;            /* í”Œë ‰ìŠ¤ ë ˆì´ì•„ì›ƒ ì‚¬ìš© */
            justify-content: space-between; /* ìš”ì†Œ ì‚¬ì´ ê³µê°„ ê· ë“± ë°°ë¶„ */
            align-items: center;      /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
        }
        
        /* ë¡œê³  ìŠ¤íƒ€ì¼ */
        .nav-logo {
            font-family: 'Jua', sans-serif;
            font-size: 1.7rem;       /* ê¸€ê¼´ í¬ê¸° */
            font-weight: 700;        /* êµµê¸° */
            color: white;            /* ìƒ‰ìƒ */
            text-decoration: none;   /* ë°‘ì¤„ ì œê±° */
            display: flex;           /* í”Œë ‰ìŠ¤ ë ˆì´ì•„ì›ƒ ì‚¬ìš© */
            align-items: center;     /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            letter-spacing: 1px;
        }
        
        /* ë¡œê³  ì•„ì´ì½˜ ìŠ¤íƒ€ì¼ */
        .nav-logo i {
            margin-right: 8px;      /* ì˜¤ë¥¸ìª½ ì—¬ë°± */
            font-size: 1.8rem;      /* ì•„ì´ì½˜ í¬ê¸° */
        }
        
        /* ë©”ë‰´ ë§í¬ ì»¨í…Œì´ë„ˆ */
        .nav-links {
            display: flex;          /* í”Œë ‰ìŠ¤ ë ˆì´ì•„ì›ƒ ì‚¬ìš© */
            list-style: none;       /* ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ ì œê±° */
            font-family: 'Jua', sans-serif;
        }
        
        /* ë©”ë‰´ ë§í¬ ì•„ì´í…œ */
        .nav-links li {
            margin: 0 5px;          /* ì—¬ë°± ì„¤ì • */
        }
        
        /* ë©”ë‰´ ë§í¬ ìŠ¤íƒ€ì¼ */
        .nav-links a {
            color: white;           /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            text-decoration: none;  /* ë°‘ì¤„ ì œê±° */
            padding: 8px 15px;      /* íŒ¨ë”© */
            border-radius: 20px;    /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            transition: var(--transition); /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
            font-weight: 500;       /* ê¸€ê¼´ êµµê¸° */
            font-size: 1.1rem;      /* ê¸€ê¼´ í¬ê¸° */
        }
        
        /* ë§í¬ í˜¸ë²„ íš¨ê³¼ */
        .nav-links a:hover {
            background-color: rgba(255, 255, 255, 0.3); /* ë°˜íˆ¬ëª… ë°°ê²½ */
            transform: translateY(-3px);
        }
        
        /* í˜„ì¬ í™œì„±í™”ëœ í˜ì´ì§€ ë§í¬ ìŠ¤íƒ€ì¼ */
        .nav-links a.active {
            background-color: rgba(255, 255, 255, 0.3); /* ë” ì§„í•œ ë°˜íˆ¬ëª… ë°°ê²½ */
            font-weight: 700;       /* ë” ë‘êº¼ìš´ ê¸€ê¼´ */
        }
        
        /* ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€ ë²„íŠ¼ */
        .menu-toggle {
            display: none;          /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
            cursor: pointer;        /* í¬ì¸í„° ì»¤ì„œ */
            flex-direction: column; /* ì„¸ë¡œ ë°©í–¥ ì •ë ¬ */
            justify-content: space-between; /* ì‚¬ì´ ê³µê°„ ê· ë“± ë°°ë¶„ */
            width: 30px;           /* ë„ˆë¹„ */
            height: 21px;          /* ë†’ì´ */
        }
        
        /* í–„ë²„ê±° ì•„ì´ì½˜ ì¤„ */
        .menu-toggle span {
            display: block;        /* ë¸”ë¡ ìš”ì†Œë¡œ í‘œì‹œ */
            height: 3px;           /* ë†’ì´ */
            width: 100%;           /* ë„ˆë¹„ */
            background-color: white; /* ë°°ê²½ìƒ‰ */
            border-radius: 3px;    /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            transition: var(--transition); /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        }
        
        /* ==================== ë°˜ì‘í˜• ë””ìì¸ (ëª¨ë°”ì¼ ë©”ë‰´) ==================== */
        @media (max-width: 768px) {
            /* ë©”ë‰´ í† ê¸€ ë²„íŠ¼ í‘œì‹œ */
            .menu-toggle {
                display: flex;     /* ëª¨ë°”ì¼ì—ì„œëŠ” í‘œì‹œ */
            }
            
            /* ë©”ë‰´ ë§í¬ ìˆ¨ê¹€ ë° ìœ„ì¹˜ ì¡°ì • */
            .nav-links {
                position: absolute; /* ì ˆëŒ€ ìœ„ì¹˜ */
                top: var(--header-height); /* í—¤ë” ì•„ë˜ì— ìœ„ì¹˜ */
                left: 0;            /* ì™¼ìª½ ì •ë ¬ */
                width: 100%;        /* ì „ì²´ ë„ˆë¹„ */
                flex-direction: column; /* ì„¸ë¡œ ë°©í–¥ ì •ë ¬ */
                background: linear-gradient(180deg, var(--primary-color), var(--primary-dark)); /* ë°°ê²½ */
                padding: 10px 0;    /* íŒ¨ë”© */
                box-shadow: 0 10px 10px rgba(0, 0, 0, 0.1); /* ê·¸ë¦¼ì */
                transform: translateY(-150%); /* ê¸°ë³¸ì ìœ¼ë¡œ ìœ„ë¡œ ìˆ¨ê¹€ */
                transition: transform 0.4s ease; /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
                align-items: center; /* ê°€ìš´ë° ì •ë ¬ */
            }
            
            /* í™œì„±í™”ëœ ë©”ë‰´ í‘œì‹œ */
            .nav-links.active {
                transform: translateY(0); /* í™”ë©´ì— í‘œì‹œ */
            }
            
            /* ëª¨ë°”ì¼ì—ì„œ ë©”ë‰´ ë§í¬ ìŠ¤íƒ€ì¼ ì¡°ì • */
            .nav-links li {
                width: 100%;       /* ì „ì²´ ë„ˆë¹„ */
                text-align: center; /* ê°€ìš´ë° ì •ë ¬ */
                margin: 0;         /* ì—¬ë°± ì œê±° */
            }
            
            /* ëª¨ë°”ì¼ì—ì„œ ë§í¬ íŒ¨ë”© ì¡°ì • */
            .nav-links a {
                padding: 12px 15px; /* íŒ¨ë”© ì¦ê°€ */
                display: block;     /* ë¸”ë¡ ìš”ì†Œë¡œ í‘œì‹œ */
                width: 100%;        /* ì „ì²´ ë„ˆë¹„ */
                border-radius: 0;   /* ëª¨ì„œë¦¬ ë‘¥ê¸€ê¸° ì œê±° */
            }
        }
        
        /* ==================== ê¸°ì¡´ ìŠ¤íƒ€ì¼ ê³„ì†... ==================== */
        
        .container {
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 2px dashed var(--primary-light);
        }
        
        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
            font-weight: 700;
            font-size: 2.5rem;
            position: relative;
            padding-bottom: 15px;
            font-family: 'Jua', sans-serif;
        }
        
        h1::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(to right, var(--primary-light), var(--secondary-color));
            border-radius: 4px;
        }
        
        h1::before {
            content: 'âœ¨';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-150px);
            font-size: 1.2rem;
        }
        
        h1::after {
            content: 'âœ¨';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(140px);
            font-size: 1.2rem;
        }
        
        .loading {
            text-align: center;
            padding: 60px;
            font-size: 18px;
            color: var(--text-light);
        }
        
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .character-attributes {
            margin-top: 30px;
            background: linear-gradient(to right, rgba(173, 111, 255, 0.05), rgba(255, 111, 215, 0.05));
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: 0 4px 12px rgba(173, 111, 255, 0.08);
            position: relative;
        }
        
        .character-attributes::before {
            content: 'ğŸ’œ';
            position: absolute;
            top: -12px;
            left: 20px;
            font-size: 24px;
        }
        
        .attribute {
            display: flex;
            margin-bottom: 16px;
            border-bottom: 1px dashed rgba(173, 111, 255, 0.2);
            padding-bottom: 16px;
            transition: var(--transition);
        }
        
        .attribute:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .attribute-label {
            font-weight: 700;
            width: 100px;
            flex-shrink: 0;
            color: var(--primary-color);
            font-family: 'Jua', sans-serif;
            font-size: 1.1rem;
        }
        
        .attribute-value {
            flex-grow: 1;
            font-weight: 400;
            font-size: 1.1rem;
        }
        
        .filter-section {
            background: linear-gradient(135deg, rgba(173, 111, 255, 0.08), rgba(255, 111, 215, 0.08));
            padding: 25px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(173, 111, 255, 0.08);
            border: 1px solid rgba(173, 111, 255, 0.1);
            position: relative;
        }
        
        .filter-section::after {
            content: 'ğŸ®';
            position: absolute;
            bottom: -15px;
            right: 30px;
            font-size: 24px;
            transform: rotate(10deg);
        }
        
        .filter-title {
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--primary-dark);
            font-size: 1.3rem;
            position: relative;
            display: inline-block;
            font-family: 'Jua', sans-serif;
        }
        
        .filter-title::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 30px;
            height: 3px;
            background: var(--secondary-color);
            border-radius: 1.5px;
        }
        
        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 25px;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            min-width: 220px;
        }
        
        .filter-group label {
            margin-bottom: 10px;
            font-weight: 500;
            color: var(--primary-dark);
            font-family: 'Jua', sans-serif;
        }
        
        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 8px;
        }
        
        .radio-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-weight: 400;
            color: var(--text-color);
            transition: var(--transition);
            font-size: 1.1rem;
        }
        
        .radio-label:hover {
            color: var(--primary-color);
            transform: translateY(-2px);
        }
        
        .radio-label input {
            margin-right: 8px;
            accent-color: var(--primary-color);
            cursor: pointer;
            width: 18px;
            height: 18px;
        }
        
        button {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            border-radius: 30px;
            transition: var(--transition);
            display: block;
            margin: 30px auto 10px;
            box-shadow: 0 4px 12px rgba(173, 111, 255, 0.3);
            font-family: 'Jua', sans-serif;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }
        
        button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 20px rgba(173, 111, 255, 0.4);
        }
        
        button:active {
            transform: translateY(1px);
            box-shadow: 0 2px 8px rgba(173, 111, 255, 0.3);
        }
        
        button:after {
            content: "";
            position: absolute;
            top: -50%;
            left: -60%;
            width: 20%;
            height: 200%;
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(30deg);
            transition: all 0.6s;
        }
        
        button:hover:after {
            left: 100%;
        }
        
        .error-message {
            color: #e53935;
            text-align: center;
            padding: 12px;
            background-color: rgba(229, 57, 53, 0.1);
            border-radius: var(--border-radius);
            margin: 15px 0;
            border-left: 4px solid #e53935;
        }
        
        .debug-button {
            background: linear-gradient(135deg, #2196F3, #03A9F4);
            margin-top: 20px;
            font-size: 14px;
            padding: 8px 16px;
            opacity: 0.8;
        }
        
        .debug-button:hover {
            background: linear-gradient(135deg, #03A9F4, #2196F3);
        }
        
        /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }
        
        .attribute {
            animation: fadeIn 0.5s ease forwards;
        }
        
        .attribute:nth-child(1) { animation-delay: 0.1s; }
        .attribute:nth-child(2) { animation-delay: 0.2s; }
        .attribute:nth-child(3) { animation-delay: 0.3s; }
        .attribute:nth-child(4) { animation-delay: 0.4s; }
        .attribute:nth-child(5) { animation-delay: 0.5s; }
        .attribute:nth-child(6) { animation-delay: 0.6s; }
        
        /* ë§ˆí¬ë‹¤ìš´ ê²°ê³¼ ìŠ¤íƒ€ì¼ ê°œì„  */
        .markdown-result {
            margin-top: 25px;
            background: rgba(173, 111, 255, 0.05);
            padding: 20px;
            border-radius: var(--border-radius);
            position: relative;
            border: 1px solid rgba(173, 111, 255, 0.1);
        }
        
        .markdown-result h3 {
            margin-top: 0;
            color: var(--primary-color);
            font-family: 'Jua', sans-serif;
        }
        
        #markdown-content {
            background: white;
            padding: 18px;
            border-radius: 10px;
            white-space: pre-wrap;
            font-family: 'Gaegu', monospace;
            border: 1px dashed rgba(173, 111, 255, 0.2);
            font-size: 1.1rem;
        }
        
        #copy-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--accent-color);
            color: #444;
            font-size: 14px;
            padding: 6px 12px;
            border-radius: 20px;
            font-family: 'Jua', sans-serif;
        }
        
        #copy-btn:hover {
            background: var(--secondary-color);
            color: white;
        }
        
        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            .filter-options {
                flex-direction: column;
                gap: 15px;
            }
            
            .filter-group {
                width: 100%;
            }
            
            .attribute {
                flex-direction: column;
            }
            
            .attribute-label {
                width: 100%;
                margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container" id="app-container">
        <div class="loading">
            <div class="loading-spinner"></div>
            ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...
        </div>
    </div>
    
    <!-- ==================== ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ (ì—¬ê¸°ì„œ ë©”ë‰´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤) ==================== -->
    <nav class="nav-container">
        <div class="nav-inner">
            <!-- ë¡œê³  ë° ì‚¬ì´íŠ¸ ì œëª© (hrefëŠ” í™ˆí˜ì´ì§€ URLë¡œ ë³€ê²½í•˜ì„¸ìš”) -->
            <a href="/index.html" class="nav-logo">
                <i class="fas fa-dice-d20"></i> <!-- ì•„ì´ì½˜ì€ Font Awesomeì—ì„œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ -->
                âœ¨ íŒíƒ€ì§€ íˆ´í‚· âœ¨
            </a>
            
            <!-- í–„ë²„ê±° ë©”ë‰´ í† ê¸€ ë²„íŠ¼ (ëª¨ë°”ì¼ ì „ìš©) -->
            <div class="menu-toggle" id="mobile-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
            
            <!-- ë©”ë‰´ ë§í¬ ëª©ë¡ -->
            <ul class="nav-links" id="nav-menu">
                <!-- ê° ë©”ë‰´ í•­ëª©: href ì†ì„±ì„ ì‹¤ì œ í˜ì´ì§€ URLë¡œ ë³€ê²½í•˜ì„¸ìš” -->
                <li><a href="/index.html">í™ˆ</a></li>
                <li><a href="/tools/mob-generator/index.html" class="active">ëª¨ë¸Œ ìƒì„±ê¸°</a></li>
                <li><a href="/tools/npc-generator/index.html">NPC ìƒì„±ê¸°</a></li>
                <li><a href="/tools/dungeon-generator/index.html">ë˜ì „ ìƒì„±ê¸°</a></li>
                <li><a href="/about.html">ì†Œê°œ</a></li>
            </ul>
        </div>
    </nav>

    <script>
        // ==================== ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ ê´€ë ¨ JavaScript ==================== //
        document.addEventListener('DOMContentLoaded', function() {
            // ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            const mobileMenu = document.getElementById('mobile-menu');
            const navMenu = document.getElementById('nav-menu');
            
            // í–„ë²„ê±° ë©”ë‰´ í´ë¦­ ì‹œ ë©”ë‰´ í‘œì‹œ/ìˆ¨ê¹€ ì „í™˜
            mobileMenu.addEventListener('click', function() {
                navMenu.classList.toggle('active');
                
                // í–„ë²„ê±° ì•„ì´ì½˜ì„ X ì•„ì´ì½˜ìœ¼ë¡œ ì• ë‹ˆë©”ì´ì…˜ (ë‚˜ì¤‘ì— ì¶”ê°€í•  ìˆ˜ ìˆìŒ)
                // ì—¬ê¸°ì— í–„ë²„ê±° ì•„ì´ì½˜ ì• ë‹ˆë©”ì´ì…˜ ì½”ë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
            });
            
            // í˜„ì¬ í™œì„±í™”ëœ ë©”ë‰´ í•­ëª© í‘œì‹œí•˜ê¸°
            highlightCurrentPage();
            
            // ì°½ í¬ê¸° ë³€ê²½ ì‹œ ëª¨ë°”ì¼ ë©”ë‰´ ìƒíƒœ ì´ˆê¸°í™” (ì„ íƒì‚¬í•­)
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768) {
                    navMenu.classList.remove('active');
                }
            });
        });
        
        /**
         * í˜„ì¬ í˜ì´ì§€ URLì„ í™•ì¸í•˜ì—¬ í•´ë‹¹í•˜ëŠ” ë©”ë‰´ í•­ëª©ì„ ê°•ì¡° í‘œì‹œí•©ë‹ˆë‹¤.
         * ì´ í•¨ìˆ˜ëŠ” URL ê²½ë¡œë¥¼ í™•ì¸í•˜ê³  ì¼ì¹˜í•˜ëŠ” ë©”ë‰´ ë§í¬ì— 'active' í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
         */
        function highlightCurrentPage() {
            // í˜„ì¬ í˜ì´ì§€ ê²½ë¡œ ê°€ì ¸ì˜¤ê¸°
            const currentPath = window.location.pathname;
            
            // ëª¨ë“  ë©”ë‰´ ë§í¬ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
            const navLinks = document.querySelectorAll('.nav-links a');
            
            // ëª¨ë“  ë§í¬ì—ì„œ 'active' í´ë˜ìŠ¤ ì œê±°
            navLinks.forEach(link => {
                link.classList.remove('active');
                
                // ë§í¬ ê²½ë¡œì™€ í˜„ì¬ ê²½ë¡œ ë¹„êµ
                if (link.getAttribute('href') === currentPath || 
                    currentPath.includes(link.getAttribute('href')) && 
                    link.getAttribute('href') !== '/index.html') {
                    // ì¼ì¹˜í•˜ëŠ” ë§í¬ì— 'active' í´ë˜ìŠ¤ ì¶”ê°€
                    link.classList.add('active');
                }
            });
            
            // í™ˆ í˜ì´ì§€ íŠ¹ë³„ ì²˜ë¦¬ (ì •í™•íˆ ì¼ì¹˜í•  ê²½ìš°ì—ë§Œ)
            if (currentPath === '/' || currentPath === '/index.html') {
                const homeLink = document.querySelector('.nav-links a[href="/index.html"]');
                if (homeLink) homeLink.classList.add('active');
            }
        }
        
        // ==================== ìºë¦­í„° ìƒì„±ê¸° ê´€ë ¨ JavaScript ==================== //
        // ìºë¦­í„° ë°ì´í„°ë² ì´ìŠ¤ ê°ì²´
        let characterDB = {
            // ê¸°ë³¸ ë°ì´í„° (ë¡œë“œ ì‹¤íŒ¨ ì‹œ ì‚¬ìš©)
            koreanMaleNames: ["ê¹€ë¯¼ìˆ˜", "ì´ì¤€í˜¸", "ë°•ì§€í›ˆ", "ì •ìš°ì§„", "ìµœí˜„ìš°"],
            koreanFemaleNames: ["ê¹€ì§€ì€", "ì´ì„œì—°", "ë°•ì†Œì˜", "ì •ë‹¤í˜œ", "ìµœì˜ˆì€"],
            englishMaleNames: ["John", "Michael", "David", "James", "Robert"],
            englishFemaleNames: ["Emma", "Olivia", "Sophia", "Ava", "Isabella"],
            ages: ["19", "22", "24", "27", "31", "35"],
            personalities: [
                "ë‚´ì„±ì ì´ê³  ì¡°ìš©í•œ ì„±ê²©, ì±…ì½ê¸°ë¥¼ ì¢‹ì•„í•¨",
                "í™œë°œí•˜ê³  ì‚¬êµì ì¸ ì„±ê²©, íŒŒí‹°ë¥¼ ì¢‹ì•„í•¨",
                "ì§„ì§€í•˜ê³  ì—´ì •ì ì¸ ì„±ê²©, ëª©í‘œ ì§€í–¥ì "
            ],
            traits: [
                "í•­ìƒ íŠ¹ì´í•œ ëª¨ìë¥¼ ì“°ê³  ë‹¤ë‹˜",
                "ì™¸êµ­ì–´ë¥¼ 5ê°œ ì´ìƒ êµ¬ì‚¬í•  ìˆ˜ ìˆìŒ",
                "ê¸¸ê³ ì–‘ì´ë“¤ì—ê²Œ ë¨¹ì´ë¥¼ ì£¼ëŠ” ìŠµê´€ì´ ìˆìŒ"
            ],
            appearance: {
                height: [
                    {"value": "ë§¤ìš° ì‘ì€ í‚¤", "tags": ["male", "female"]},
                    {"value": "ì‘ì€ í‚¤", "tags": ["male", "female"]},
                    {"value": "í‰ê·  í‚¤", "tags": ["male", "female"]},
                    {"value": "í° í‚¤", "tags": ["male", "female"]},
                    {"value": "ë§¤ìš° í° í‚¤", "tags": ["male", "female"]}
                ],
                hairLength: [
                    {"value": "ì‚­ë°œ", "tags": ["male"]},
                    {"value": "ì§§ì€", "tags": ["male", "female"]},
                    {"value": "ë‹¨ë°œ", "tags": ["female", "male_rare"]},
                    {"value": "ì–´ê¹¨ ê¸¸ì´", "tags": ["female", "male_rare"]},
                    {"value": "ê¸´", "tags": ["female"]},
                    {"value": "ë§¤ìš° ê¸´", "tags": ["female"]}
                ],
                hairColor: [
                    {"value": "ê²€ì€ìƒ‰", "tags": ["male", "female"]},
                    {"value": "ê°ˆìƒ‰", "tags": ["male", "female"]},
                    {"value": "ê¸ˆë°œ", "tags": ["male", "female"]},
                    {"value": "ë¹¨ê°„ìƒ‰", "tags": ["male", "female"]},
                    {"value": "ì€ìƒ‰", "tags": ["male", "female"]}
                ],
                hairStyle: [
                    {"value": "ìŠ¤íŠ¸ë ˆì´íŠ¸", "tags": ["male", "female"]},
                    {"value": "ì›¨ì´ë¸Œ", "tags": ["male", "female"]},
                    {"value": "ê³±ìŠ¬", "tags": ["male", "female"]},
                    {"value": "ë‹¨ì •í•œ", "tags": ["male", "female"]},
                    {"value": "í—í´ì–´ì§„", "tags": ["male", "female"]}
                ],
                eyeColor: [
                    {"value": "ê²€ì€ìƒ‰", "tags": ["male", "female"]},
                    {"value": "ê°ˆìƒ‰", "tags": ["male", "female"]},
                    {"value": "íŒŒë€ìƒ‰", "tags": ["male", "female"]},
                    {"value": "ë…¹ìƒ‰", "tags": ["male", "female"]},
                    {"value": "íšŒìƒ‰", "tags": ["male", "female"]}
                ],
                chestSize: [
                    {"value": "í‰í‰í•œ", "tags": ["male"]},
                    {"value": "ì‘ì€", "tags": ["female"]},
                    {"value": "ë³´í†µ", "tags": ["female"]},
                    {"value": "í°", "tags": ["female"]}
                ],
                build: [
                    {"value": "ë§¤ìš° í—ˆì•½í•œ", "tags": ["male", "female"]},
                    {"value": "í—ˆì•½í•œ", "tags": ["male", "female"]},
                    {"value": "ë³´í†µ", "tags": ["male", "female"]},
                    {"value": "íŠ¼íŠ¼í•œ", "tags": ["male", "female"]},
                    {"value": "ë§¤ìš° íŠ¼íŠ¼í•œ", "tags": ["male", "female"]},
                    {"value": "ê·¼ìœ¡ì§ˆì˜", "tags": ["male", "female"]}
                ]
            }
        };

        // í˜„ì¬ ìºë¦­í„° ë°ì´í„°
        let currentCharacter = null;
        
        // ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ë³€í™˜
        function generateMarkdown(character) {
            if (!character) return '';
            
            return `## ${character.name}
* **ë‚˜ì´:** ${character.age}
* **ì„±ë³„:** ${character.gender}
* **ì™¸ëª¨:** ${character.appearance}
* **ì„±ê²©:** ${character.personality}
* **íŠ¹ì§•:** ${character.trait}`;
        }
        
        // ê²½ë¡œ ê°ì§€ í•¨ìˆ˜
        function getBasePath() {
            // í˜„ì¬ URL ì •ë³´ ê°€ì ¸ì˜¤ê¸°
            const currentHost = window.location.hostname;
            const currentPath = window.location.pathname;
            
            console.log('í˜„ì¬ í˜¸ìŠ¤íŠ¸:', currentHost);
            console.log('í˜„ì¬ ê²½ë¡œ:', currentPath);
            
            // GitHub Pagesì¸ ê²½ìš° íŠ¹ë³„ ì²˜ë¦¬ (username.github.io/reponame í˜•íƒœ)
            if (currentHost.includes('github.io')) {
                // GitHub Pages ì£¼ì†Œ í˜•ì‹ ì²˜ë¦¬
                const pathParts = currentPath.split('/').filter(part => part); // ë¹ˆ ë¬¸ìì—´ ì œê±°
                
                // ì €ì¥ì†Œ ì´ë¦„ì´ í¬í•¨ëœ ê²½ë¡œ êµ¬ì„±
                if (pathParts.length > 0) {
                    const repoName = pathParts[0]; // ì²« ë²ˆì§¸ ê²½ë¡œ ë¶€ë¶„ì´ ì €ì¥ì†Œ ì´ë¦„
                    console.log('ê°ì§€ëœ ì €ì¥ì†Œ ì´ë¦„:', repoName);
                    return `/${repoName}/`;
                }
                
                return '/'; // ë£¨íŠ¸ ê²½ë¡œ
            }
            
            // ë¡œì»¬ í™˜ê²½ì´ë‚˜ ë‹¤ë¥¸ ì›¹ ì„œë²„ì¸ ê²½ìš°
            if (currentHost === 'localhost' || currentHost === '127.0.0.1') {
                return './'; // ë¡œì»¬ í…ŒìŠ¤íŠ¸ìš© ìƒëŒ€ ê²½ë¡œ
            }
            
            // ê·¸ ì™¸ ì¼ë°˜ ì›¹ ì„œë²„ ê²½ìš° ìƒëŒ€ ê²½ë¡œ ì‚¬ìš©
            return './';
        }

        // ë°ì´í„° ë¡œë“œ ì‹œë„ í•¨ìˆ˜
        async function tryLoadData() {
            try {
                const basePath = getBasePath();
                console.log('ê²½ë¡œ:', basePath);
                
                // ì—°ê²° í…ŒìŠ¤íŠ¸
                const testResponse = await fetch(`${basePath}data/names/korean_male_names.json`);
                if (!testResponse.ok) {
                    throw new Error(`ë°ì´í„° ë¡œë“œ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${testResponse.status}`);
                }
                
                // ì‹¤ì œ ë°ì´í„° ë¡œë“œ
                // ì´ë¦„ ë°ì´í„° ë¡œë“œ
                const koreanMaleResponse = await fetch(`${basePath}data/names/korean_male_names.json`);
                const koreanFemaleResponse = await fetch(`${basePath}data/names/korean_female_names.json`);
                const englishMaleResponse = await fetch(`${basePath}data/names/english_male_names.json`);
                const englishFemaleResponse = await fetch(`${basePath}data/names/english_female_names.json`);
                
                // ê¸°ë³¸ ì†ì„± ë°ì´í„° ë¡œë“œ
                const agesResponse = await fetch(`${basePath}data/ages.json`);
                const personalitiesResponse = await fetch(`${basePath}data/personalities.json`);
                const traitsResponse = await fetch(`${basePath}data/traits.json`);
                
                // ì™¸ëª¨ ì†ì„± ë°ì´í„° ë¡œë“œ
                const heightResponse = await fetch(`${basePath}data/appearances/height.json`);
                const hairLengthResponse = await fetch(`${basePath}data/appearances/hair_length.json`);
                const hairColorResponse = await fetch(`${basePath}data/appearances/hair_color.json`);
                const hairStyleResponse = await fetch(`${basePath}data/appearances/hair_style.json`);
                const eyeColorResponse = await fetch(`${basePath}data/appearances/eye_color.json`);
                const chestSizeResponse = await fetch(`${basePath}data/appearances/chest_size.json`);
                const buildResponse = await fetch(`${basePath}data/appearances/build.json`);
                
                // ì‘ë‹µì„ JSONìœ¼ë¡œ ë³€í™˜
                const koreanMaleData = await koreanMaleResponse.json();
                const koreanFemaleData = await koreanFemaleResponse.json();
                const englishMaleData = await englishMaleResponse.json();
                const englishFemaleData = await englishFemaleResponse.json();
                
                const agesData = await agesResponse.json();
                const personalitiesData = await personalitiesResponse.json();
                const traitsData = await traitsResponse.json();
                
                const heightData = await heightResponse.json();
                const hairLengthData = await hairLengthResponse.json();
                const hairColorData = await hairColorResponse.json();
                const hairStyleData = await hairStyleResponse.json();
                const eyeColorData = await eyeColorResponse.json();
                const chestSizeData = await chestSizeResponse.json();
                const buildData = await buildResponse.json();
                
                // ë°ì´í„° ì €ì¥
                characterDB.koreanMaleNames = koreanMaleData.names;
                characterDB.koreanFemaleNames = koreanFemaleData.names;
                characterDB.englishMaleNames = englishMaleData.names;
                characterDB.englishFemaleNames = englishFemaleData.names;
                
                characterDB.ages = agesData.ages;
                characterDB.personalities = personalitiesData.personalities;
                characterDB.traits = traitsData.traits;
                
                characterDB.appearance.height = heightData.height;
                characterDB.appearance.hairLength = hairLengthData.hair_length;
                characterDB.appearance.hairColor = hairColorData.hair_color;
                characterDB.appearance.hairStyle = hairStyleData.hair_style;
                characterDB.appearance.eyeColor = eyeColorData.eye_color;
                characterDB.appearance.chestSize = chestSizeData.chest_size;
                characterDB.appearance.build = buildData.build;
                
                console.log('ëª¨ë“  ë°ì´í„° ë¡œë“œ ì™„ë£Œ!');
                return true;
            } catch (error) {
                console.error('ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
                return false;
            }
        }

        // UI ì´ˆê¸°í™” í•¨ìˆ˜
        function initializeUI() {
            const container = document.getElementById('app-container');
            
            // UI HTML ìƒì„±
            container.innerHTML = `
                <h1>ëª¨ë¸Œ ìºë¦­í„° ìƒì„±ê¸°</h1>
                
                <div id="error-container"></div>
                
                <div class="filter-section">
                    <div class="filter-title">ìºë¦­í„° í•„í„° ì„¤ì •</div>
                    <div class="filter-options">
                        <div class="filter-group">
                            <label>ì„±ë³„:</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="gender" value="random" checked> ëœë¤
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="gender" value="male"> ë‚¨ì„±
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="gender" value="female"> ì—¬ì„±
                                </label>
                            </div>
                        </div>
                        
                        <div class="filter-group">
                            <label>ì´ë¦„ ì–¸ì–´:</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="name-language" value="random" checked> ëœë¤
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="name-language" value="korean"> í•œêµ­ì–´
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="name-language" value="english"> ì˜ì–´
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="character-attributes">
                    <div class="attribute">
                        <div class="attribute-label">ì´ë¦„:</div>
                        <div class="attribute-value" id="name-value">-</div>
                    </div>
                    
                    <div class="attribute">
                        <div class="attribute-label">ë‚˜ì´:</div>
                        <div class="attribute-value" id="age-value">-</div>
                    </div>
                    
                    <div class="attribute">
                        <div class="attribute-label">ì„±ë³„:</div>
                        <div class="attribute-value" id="gender-value">-</div>
                    </div>
                    
                    <div class="attribute">
                        <div class="attribute-label">ì™¸ëª¨:</div>
                        <div class="attribute-value" id="appearance-value">-</div>
                    </div>
                    
                    <div class="attribute">
                        <div class="attribute-label">ì„±ê²©:</div>
                        <div class="attribute-value" id="personality-value">-</div>
                    </div>
                    
                    <div class="attribute">
                        <div class="attribute-label">íŠ¹ì§•:</div>
                        <div class="attribute-value" id="trait-value">-</div>
                    </div>
                </div>
                
                <button id="generate-btn">âœ¨ ìºë¦­í„° ìƒì„±í•˜ê¸° âœ¨</button>
                
                <div class="markdown-result" id="markdown-result" style="display: none; margin-top: 25px; background: rgba(173, 111, 255, 0.05); padding: 20px; border-radius: 12px; position: relative;">
                    <h3 style="margin-top: 0; color: var(--primary-color);">ë§ˆí¬ë‹¤ìš´ ê²°ê³¼</h3>
                    <pre id="markdown-content" style="background: white; padding: 15px; border-radius: 8px; white-space: pre-wrap; font-family: monospace; border: 1px solid rgba(0,0,0,0.1);"></pre>
                    <button id="copy-btn" style="position: absolute; top: 20px; right: 20px; background: var(--accent-color); color: black; font-size: 14px; padding: 6px 12px; border-radius: 20px;">ë³µì‚¬</button>
                </div>
                
                <div id="saved-characters"></div>
            `;
            
            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            document.getElementById('generate-btn').addEventListener('click', generateCharacter);
            
            // ë³µì‚¬ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            document.getElementById('copy-btn').addEventListener('click', function() {
                const markdownContent = document.getElementById('markdown-content');
                
                // í…ìŠ¤íŠ¸ë¥¼ ì„ íƒí•˜ëŠ” ë°©ë²• ì‚¬ìš©
                const range = document.createRange();
                range.selectNodeContents(markdownContent);
                
                const selection = window.getSelection();
                selection.removeAllRanges();
                selection.addRange(range);
                
                try {
                    // ë³µì‚¬ ëª…ë ¹ ì‹œë„
                    const successful = document.execCommand('copy');
                    
                    if (successful) {
                        // ë³µì‚¬ ì„±ê³µ
                        const copyBtn = document.getElementById('copy-btn');
                        const originalText = copyBtn.textContent;
                        copyBtn.textContent = 'ë³µì‚¬ ì™„ë£Œ! âœ¨';
                        copyBtn.style.backgroundColor = '#4CAF50';
                        
                        setTimeout(() => {
                            copyBtn.textContent = originalText;
                            copyBtn.style.backgroundColor = '';
                        }, 2000);
                    } else {
                        // ë³µì‚¬ ì‹¤íŒ¨
                        alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì§ì ‘ ì„ íƒí•˜ì—¬ ë³µì‚¬í•´ì£¼ì„¸ìš”.');
                    }
                } catch (err) {
                    console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
                    alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì§ì ‘ ì„ íƒí•˜ì—¬ ë³µì‚¬í•´ì£¼ì„¸ìš”.');
                }
                
                // ì„ íƒ í•´ì œ
                selection.removeAllRanges();
            });
            
            // ì²« ìºë¦­í„° ìƒì„±
            generateCharacter();
        }

        // ì´ë¦„ ì„ íƒ í•¨ìˆ˜
        function getFilteredName(gender, nameLanguage) {
            // ì„±ë³„ê³¼ ì–¸ì–´ì— ë”°ë¼ ì ì ˆí•œ ì´ë¦„ ë°°ì—´ ì„ íƒ
            let nameArray;
            
            if (nameLanguage === 'korean') {
                nameArray = (gender === 'male') ? characterDB.koreanMaleNames : characterDB.koreanFemaleNames;
            } else {
                nameArray = (gender === 'male') ? characterDB.englishMaleNames : characterDB.englishFemaleNames;
            }
            
            // ëœë¤ ì´ë¦„ ì„ íƒ
            return getRandomItem(nameArray);
        }

        // ì™¸ëª¨ ì†ì„± í•„í„°ë§ í•¨ìˆ˜
        function getFilteredAppearanceItem(items, gender) {
            // ì„±ë³„ì— ë§ëŠ” í•­ëª©ë§Œ í•„í„°ë§
            let filteredItems = items.filter(item => 
                item.tags.includes(gender) || 
                (gender === 'male' && item.tags.includes('male_rare'))
            );
            
            // í•„í„°ë§ëœ í•­ëª©ì´ ì—†ìœ¼ë©´ ëª¨ë“  í•­ëª©ì—ì„œ ì„ íƒ
            if (filteredItems.length === 0) {
                filteredItems = items;
            }
            
            // ëœë¤ ì„ íƒ
            return filteredItems[Math.floor(Math.random() * filteredItems.length)].value;
        }

        // ìºë¦­í„° ìƒì„± í•¨ìˆ˜
        function generateCharacter() {
            try {
                // ì„ íƒëœ ì„±ë³„ ê°€ì ¸ì˜¤ê¸°
                const selectedGender = document.querySelector('input[name="gender"]:checked').value;
                
                // ì„ íƒëœ ì´ë¦„ ì–¸ì–´ ê°€ì ¸ì˜¤ê¸°
                const selectedNameLang = document.querySelector('input[name="name-language"]:checked').value;
                
                // ì„±ë³„ ê²°ì • (ëœë¤ ì˜µì…˜ ì²˜ë¦¬)
                const gender = (selectedGender === 'random') ? 
                    (Math.random() < 0.5 ? 'male' : 'female') : selectedGender;
                
                // ì´ë¦„ ì–¸ì–´ ê²°ì • (ëœë¤ ì˜µì…˜ ì²˜ë¦¬)
                const nameLanguage = (selectedNameLang === 'random') ?
                    (Math.random() < 0.5 ? 'korean' : 'english') : selectedNameLang;
                
                // ì´ë¦„ ì„ íƒ
                const name = getFilteredName(gender, nameLanguage);
                
                // ë‚˜ë¨¸ì§€ ì†ì„± ìƒì„±
                const age = getRandomItem(characterDB.ages);
                const personality = getRandomItem(characterDB.personalities);
                const trait = getRandomItem(characterDB.traits);
                
                // ì™¸ëª¨ ì†ì„± ìƒì„±
                const height = getFilteredAppearanceItem(characterDB.appearance.height, gender);
                const hairColor = getFilteredAppearanceItem(characterDB.appearance.hairColor, gender);
                const hairLength = getFilteredAppearanceItem(characterDB.appearance.hairLength, gender);
                const hairStyle = getFilteredAppearanceItem(characterDB.appearance.hairStyle, gender);
                const eyeColor = getFilteredAppearanceItem(characterDB.appearance.eyeColor, gender);
                const build = getFilteredAppearanceItem(characterDB.appearance.build, gender);
                
                // ì™¸ëª¨ ì„¤ëª… ì¡°í•© (ì„±ë³„ì— ë”°ë¼ ë‹¤ë¥´ê²Œ)
                let appearance;
                if (gender === 'male') {
                    appearance = `${height}ì— ${build} ì²´í˜•, ${hairLength} ${hairColor} ${hairStyle} ë¨¸ë¦¬, ${eyeColor} ëˆˆë™ì`;
                } else {
                    const chestSize = getFilteredAppearanceItem(characterDB.appearance.chestSize, gender);
                    appearance = `${height}ì— ${build} ì²´í˜•, ${hairLength} ${hairColor} ${hairStyle} ë¨¸ë¦¬, ${eyeColor} ëˆˆë™ì, ${chestSize} ê°€ìŠ´`;
                }
                
                // í˜„ì¬ ìºë¦­í„° ë°ì´í„° ì €ì¥
                currentCharacter = {
                    name: name,
                    age: age,
                    gender: gender === 'male' ? 'ë‚¨ì„±' : 'ì—¬ì„±',
                    nameLanguage: nameLanguage,
                    appearance: appearance,
                    personality: personality,
                    trait: trait
                };
                
                // UI ì—…ë°ì´íŠ¸
                updateCharacterDisplay();
            } catch (error) {
                console.error('ìºë¦­í„° ìƒì„± ì¤‘ ì˜¤ë¥˜:', error);
                
                // ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ
                const errorContainer = document.getElementById('error-container');
                if (errorContainer) {
                    errorContainer.innerHTML = `
                        <div class="error-message">
                            ìºë¦­í„° ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}
                        </div>
                    `;
                }
            }
        }

        // ìºë¦­í„° í‘œì‹œ ì—…ë°ì´íŠ¸
        function updateCharacterDisplay() {
            if (!currentCharacter) return;
            
            // ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ìœ„í•´ ëª¨ë“  ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™”
            const attributes = document.querySelectorAll('.attribute');
            attributes.forEach(attr => {
                attr.style.opacity = '0';
                void attr.offsetWidth; // ë¦¬í”Œë¡œìš° ê°•ì œë¡œ íŠ¸ë¦¬ê±°
                attr.style.opacity = ''; // ìŠ¤íƒ€ì¼ ì œê±°í•˜ì—¬ CSSì—ì„œ ì •ì˜í•œ ì• ë‹ˆë©”ì´ì…˜ ì ìš©
            });
            
            document.getElementById('name-value').textContent = currentCharacter.name;
            document.getElementById('age-value').textContent = currentCharacter.age;
            document.getElementById('gender-value').textContent = currentCharacter.gender;
            document.getElementById('appearance-value').textContent = currentCharacter.appearance;
            document.getElementById('personality-value').textContent = currentCharacter.personality;
            document.getElementById('trait-value').textContent = currentCharacter.trait;
            
            // ë§ˆí¬ë‹¤ìš´ ê²°ê³¼ í‘œì‹œ
            const markdownResult = document.getElementById('markdown-result');
            const markdownContent = document.getElementById('markdown-content');
            
            markdownResult.style.display = 'block';
            markdownContent.textContent = generateMarkdown(currentCharacter);
        }

        // ëœë¤ í•­ëª© ì„ íƒ í•¨ìˆ˜
        function getRandomItem(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', async function() {
            // ë°ì´í„° ë¡œë“œ ì‹œë„
            const loadSuccess = await tryLoadData();
            
            // ë°ì´í„° ë¡œë“œ ì„±ê³µ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ UI ì´ˆê¸°í™” ì§„í–‰
            // (ì‹¤íŒ¨í•´ë„ ê¸°ë³¸ ë°ì´í„°ê°€ ìˆìœ¼ë¯€ë¡œ ì‘ë™ ê°€ëŠ¥)
            initializeUI();
            
            if (!loadSuccess) {
                console.warn('ì™¸ë¶€ ë°ì´í„° ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ê¸°ë³¸ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.');
                
                // ì˜¤ë¥˜ ë©”ì‹œì§€ ì¶”ê°€
                const errorContainer = document.getElementById('error-container');
                if (errorContainer) {
                    errorContainer.innerHTML = `
                        <div class="error-message">
                            ì™¸ë¶€ ë°ì´í„° íŒŒì¼ì„ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê¸°ë³¸ ë°ì´í„°ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.
                        </div>
                    `;
                }
            }
        });
    </script>
</body>
</html>
